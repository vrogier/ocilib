<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name=viewport content="width=device-width, initial-scale=1">
  
  <title>Calling PL/SQL procedures with PL/SQL tables parameters | OCILIB (C and C++ Driver for Oracle) - Open source C and C++ library for accessing Oracle databases</title>
  
  
  <meta name="description" content="OCILIB is an open source and cross platform Oracle Driver that delivers efficient access to Oracle databases. It offers a full featured, easy and p...">
  
    <meta name="keywords" content="OCILIB, driver, Oracle, OCI, wrapper, open source, library, API, SQL, database, access , libraries, free, LGPL, GPL, PL/SQL, Oracle Call Interface">
  
    
  <link href="/slim-pickins-jekyll-theme/css/main.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link rel="canonical" href="/slim-pickins-jekyll-theme/blog/2008/calling-plsql-procedures-with-plsql-tables-parameters">
  <link href="/slim-pickins-jekyll-theme/favicon.ico" rel="icon">
  <link rel="alternate" type="application/atom+xml" title="OCILIB (C and C++ Driver for Oracle) - Open source C and C++ library for accessing Oracle databases" href="/slim-pickins-jekyll-theme/atom.xml"/>
  
  <!-- Social media content metadata -->


<meta property="twitter:card" content="summary" />
<meta property="twitter:site" content="ocilib" />
<meta property="twitter:url" content="/slim-pickins-jekyll-theme" />
<meta property="twitter:title" content="Calling PL/SQL procedures with PL/SQL tables parameters" />
<meta property="twitter:description" content="OCILIB is an open source and cross platform Oracle Driver that delivers efficient access to Oracle databases. It offers a full featured, easy and productive API. Written in ISO C and C++ on top of ..." />
<meta property="twitter:creator" content="ocilib" />
<meta property="twitter:image:src" content="" />

  
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3399074-3', 'auto');
    ga('send', 'pageview');
    </script>

 
</head>
  <body>
    <main class="wrap">
      
    <header role="banner">
      <a href="/slim-pickins-jekyll-theme"><img src="/slim-pickins-jekyll-theme/images/ocilib-header.png" srcset="/slim-pickins-jekyll-theme/images/banner-small.jpg 200w, /slim-pickins-jekyll-theme/images/banner-med.jpg 641w, /slim-pickins-jekyll-theme/images/banner-large.jpg 1025w, /slim-pickins-jekyll-theme/images/ocilib-header.png 1441w" alt="OCILIB (C and C++ Driver for Oracle) - Open source C and C++ library for accessing Oracle databases banner image" title="OCILIB (C and C++ Driver for Oracle) - Open source C and C++ library for accessing Oracle databases banner image" class="center"></a>
    </header>
  
  
      <nav class="navbar">
  <nav class="row">
    <div id="nav">
      <ul class="columns medium-8 left primary-nav">

	<li id="toggleMenu"><a href="#nav">Menu</a></li>
	<li id="hideMenu"><a href="#toggleMenu">Menu</a></li>
	
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/">Home</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/features">Features</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/download">Download</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/documentation">Documentation</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/support/">Support</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/changelogs/">Changes</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/projects/">Projects</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/blog/">Blog</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/about/">About</a></li>
		    
	  
	
	  
		  
		  <li><a href="/slim-pickins-jekyll-theme/comments/">Comments</a></li>
		    
	  
	
      </ul>

      <ul class="columns medium-4 right primary-nav">
	
	  <li class="right"><a href="https://chrisanthropic.github.io/slim-pickins-jekyll-theme/atom.xml"><span class="icon-feed socials"></span></a></li>
	
	  <li class="right"><a href="https://twitter.com/"><span class="icon-twitter socials"></span></a></li>
	
	  <li class="right"><a href="https://github.com/vrogier/ocilib"><span class="icon-github socials"></span></a></li>
	
      </ul>
    </div>
  </nav>
</nav>
      <article class="row post-content">

    <header>
      <h2 class="post-title">Calling PL/SQL procedures with PL/SQL tables parameters</h1>
      <p class="post-meta">Aug 6, 2008 • admin</p>
    </header>
    <br/>
toto  
tto2    
    <p>Since version 2.5.0, OCILIB handles PL/SQL tables for input/output binds when calling PL/SQL procedures.</p>

<p>Because PL/SQL tables are arrays, binding C arrays to a PL/SQL call is implemented in OCILIB though the OCI_BindArrayXXXX() functions.</p>

<p>Thoses functions were initially designed for the array interface (bulk operations). In this context, all arrays binded to a statement must have the same size. This size is set by calling OCI_BindArraySetSize().</p>

<p>But in the context of PL/SQL tables binds, each bind (each array) is independent and can have it own size.</p>

<p>That why, in 2.5.0, i introduced an extra params to all of the OCI_BindArrayXXX() calls in order to specify the size of the array for PL/SQL tables binds.</p>

<p>For regular bulk operations, this extra param is not used and must be set to 0.</p>

<p>Because PL/SQL tables binds have their own array size specified with the new last param (‘nbelem’) of OCI_BindArrayXXX() call, OCI_BindArraySetSize() MUST not be called.</p>

<p>A little summary:</p>

<p>For bulk operations :</p>

<ul>
  <li>
    <p>prepare statement with OCI_Prepare()</p>
  </li>
  <li>
    <p>set array size with OCI_BindArraySetSize()</p>
  </li>
  <li>
    <p>bind C arrays with OCI_BindArrayXXX() with 0 for param ‘nbelem’</p>
  </li>
  <li>
    <p>execute statement with OCI_Execute()</p>
  </li>
</ul>

<p>For PL/SQL procedure call with PL/SQ/ tables binds :</p>

<ul>
  <li>
    <p>prepare statement with OCI_Prepare()</p>
  </li>
  <li>
    <p>bind C arrays with OCI_BindArrayXXX() specifying each array size with param ‘nbelem’</p>
  </li>
  <li>
    <p>execute statement with OCI_Execute()</p>
  </li>
</ul>

<p>The OCILIB documentation and changelog were not clear about that point.</p>

<p>Next release will improve the documentation.</p>


</article>

    </main>
      <footer class="site-footer">
  <div class="row">
    <div >
<center>Copyright &copy; 2015 <b><a href="/slim-pickins-jekyll-theme">OCILIB (C and C++ Driver for Oracle) - Open source C and C++ library for accessing Oracle databases</a></b>.</center>
<center>OCILIB Logo designed by <b>abecrow</b>
    </div>
  </div>
</footer> 

  </body>
</html>